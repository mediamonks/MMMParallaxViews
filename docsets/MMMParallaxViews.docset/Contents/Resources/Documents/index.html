<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MMMParallaxViews  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="MMMParallaxViews  Reference"></a>

    <header class="header">
      <a href="https://media.monks.com">
        <img src="img/logo.png" srcset="img/logo@2x.png 2x" alt="Media.Monks" class="header-logo" />
      </a>
    
      <p class="header-col header-col--primary"></p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/mediamonks/MMMParallaxViews">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">MMMParallaxViews</a>
      <img class="carat" src="img/carat.png" alt=""/>
      MMMParallaxViews  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MMMParallaxViewCoordinator.html">MMMParallaxViewCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MMMParallaxViewDescriptor.html">MMMParallaxViewDescriptor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MMMParallaxViewWrapper.html">MMMParallaxViewWrapper</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MMMParallaxView.html">MMMParallaxView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxHeightEvent.html">MMMParallaxHeightEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxScrollEvent.html">MMMParallaxScrollEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxScrollEvent/Direction.html">– Direction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxUpdateEvent.html">MMMParallaxUpdateEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxViewOptions.html">MMMParallaxViewOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxViewOptions/Height.html">– Height</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxViewOptions/TrackingType.html">– TrackingType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MMMParallaxViewOptions/StickPosition.html">– StickPosition</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='mmmparallaxviews' class='heading'>MMMParallaxViews</h1>

<p><a href="https://github.com/mediamonks/MMMParallaxViews/actions?query=workflow%3ABuild"><img src="https://github.com/mediamonks/MMMParallaxViews/workflows/Build/badge.svg" alt="Build"></a></p>

<p>The idea of ParallaxViews is to bind to a <code>UIScrollView</code> or <code>UITableView</code>, and track
a certain position or cell. The views will resize according to the scroll position,
you&rsquo;re able to give a minimum and maximum height for your views, as well as a stick
position.</p>

<p>A picture says more than a thousand words;</p>

<p><img src="https://github.com/mediamonks/MMMParallaxViews/raw/main/MMMParallaxViews.gif" alt="ParallaxViews - not working until merge; checkout the .gif in the repo"></p>
<h2 id='example' class='heading'>Example</h2>

<p>There is an example application showing the use of tracking a <code>UITableView</code>, <code>UIScrollView</code>
and with the (helper) wrapper view.</p>
<h3 id='the-coordinator' class='heading'>The Coordinator</h3>

<p>The main class is the <code><a href="Classes/MMMParallaxViewCoordinator.html">MMMParallaxViewCoordinator</a></code>, this holds a reference to your
<code>UIScrollView</code> or <code>UITableView</code>, your container view (<code>UIView</code> that hosts your
<code>MMMParallaxViews</code>, usually the parent of your <code>UIScrollView</code>) and an array of
<code><a href="Protocols/MMMParallaxView.html">MMMParallaxView</a></code>&lsquo;s.</p>
<h3 id='mmmparallaxview-protocol' class='heading'>MMMParallaxView protocol</h3>

<p>You should supply the coordinator with <code><a href="Protocols/MMMParallaxView.html">MMMParallaxView</a></code> instances, these are regular
views that conform to the <code><a href="Protocols/MMMParallaxView.html">MMMParallaxView</a></code> protocol. Each <code><a href="Protocols/MMMParallaxView.html">MMMParallaxView</a></code> has it&rsquo;s own
set of options. Checkout <code>Sources/ParallaxViews/View/MMMParallaxView.swift</code> and
<code>Sources/ParallaxViews/View/MMMParallaxViewOptions.swift</code> for more info.</p>
<h3 id='simple-code-example' class='heading'>Simple code example</h3>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">Header</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">,</span> <span class="kt">MMMParallaxView</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">options</span> <span class="o">=</span> <span class="kt">MMMParallaxViewOptions</span><span class="p">(</span>
        <span class="nv">height</span><span class="p">:</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">min</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span> <span class="nv">max</span><span class="p">:</span> <span class="mi">220</span><span class="p">),</span>
        <span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="nf">tableView</span><span class="p">(</span><span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">Footer</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">,</span> <span class="kt">MMMParallaxView</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">options</span> <span class="o">=</span> <span class="kt">MMMParallaxViewOptions</span><span class="p">(</span>
        <span class="nv">height</span><span class="p">:</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">min</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span> <span class="nv">max</span><span class="p">:</span> <span class="mi">120</span><span class="p">),</span>
        <span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="nf">tableView</span><span class="p">(</span><span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">(</span><span class="nv">row</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="mi">2</span><span class="p">))</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">coordinator</span> <span class="o">=</span> <span class="kt">MMMParallaxViewCoordinator</span><span class="p">()</span>

<span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do your regular stuff</span>

    <span class="n">coordinator</span><span class="o">.</span><span class="n">scrollView</span> <span class="o">=</span> <span class="n">myTableView</span>
    <span class="n">coordinator</span><span class="o">.</span><span class="n">containerView</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span>
    <span class="n">coordinator</span><span class="o">.</span><span class="n">parallaxViews</span> <span class="o">=</span> <span class="p">[</span><span class="n">header</span><span class="p">,</span> <span class="n">footer</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1">// IMPORTANT! Make sure to call didFinishLayout when your views are properly calculated.</span>
<span class="c1">// for more info check the documentation on `didFinishLayout`.</span>
<span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLayoutSubviews</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLayoutSubviews</span><span class="p">()</span>

    <span class="n">coordinator</span><span class="o">.</span><span class="nf">didFinishLayout</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span> <span class="p">{</span>
    <span class="c1">// Supply your cells as you normally would, we assume here that section 0 and 2</span>
    <span class="c1">// are template cells for the ParallaxViews. Because the ParallaxView's are overlaying</span>
    <span class="c1">// the scrollView, you need a dummy cell for this.</span>
    <span class="k">guard</span> <span class="n">indexPath</span><span class="o">.</span><span class="n">section</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// might want to dequeue this</span>
        <span class="k">return</span> <span class="kt">UITableViewCell</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="c1">// your cell code</span>
    <span class="k">return</span> <span class="n">cell</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">heightForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CGFloat</span> <span class="p">{</span>
    <span class="c1">// Helper method to set the height for the cells that the coordinator is tracking,</span>
    <span class="c1">// because you need dummy cells to avoid overlapping.</span>
    <span class="k">return</span> <span class="n">coordinator</span><span class="o">.</span><span class="nf">heightForRowAt</span><span class="p">(</span><span class="nv">indexPath</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h3 id='need-more' class='heading'>Need more?</h3>

<p>Checkout the <code>Example</code> directory and/or app, or go straight to the <code>Sources</code> directory,
everything is pretty well documented.</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>Either install via CocoaPods or Swift Package Manager, like you usually would.</p>
<h2 id='known-issues' class='heading'>Known issues</h2>

<p>If you aren&rsquo;t using the <code><a href="Classes/MMMParallaxViewWrapper.html">MMMParallaxViewWrapper</a></code> and you want to use the <code>forwardsTouches</code>
option, you should override the <code>hitTest</code> in your containerView; Have a look at
the example for an implementation of this.</p>
<h2 id='ready-for-liftoff' class='heading'>Ready for liftoff? 🚀</h2>

<p>We&rsquo;re always looking for talent. Join one of the fastest-growing rocket ships in
the business. Head over to our <a href="https://media.monks.com/careers">careers page</a>
for more info!</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="https://media.monks.com" target="_blank" rel="external noopener">Media.Monks</a>. All rights reserved. (Last updated: 2022-04-28)</p>
      <p></p>
    </section>
  </body>
</html>
